const koa = require('koa');
const router = require('koa-router')();
const serveStatic = require('koa-static');
const path = require('path');
const port = process.env.PORT || 3000;
const app = koa();
const fs = require('fs');
const views = require("co-view");
const runServer = () => {
    const render = views("dist", { map: { html: 'swig' } });
    router.get('/', function* (next) {
        this.body = yield render("index");
    });
    app
        .use(serveStatic('./dist'))
        .use(router.routes())
        .use(router.allowedMethods());
    app.listen(port, function () {
        console.log('Web app is listening on port:' + port);
    });
};
runServer();

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFNLEdBQUcsR0FBRyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDM0IsTUFBTSxNQUFNLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUM7QUFDdkMsTUFBTSxXQUFXLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFDO0FBQzFDLE1BQU0sSUFBSSxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUM3QixNQUFNLElBQUksR0FBVyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksSUFBSSxJQUFJLENBQUM7QUFDOUMsTUFBTSxHQUFHLEdBQUcsR0FBRyxFQUFFLENBQUM7QUFDbEIsTUFBTSxFQUFFLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBR3pCLE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQztBQUVqQyxNQUFNLFNBQVMsR0FBRztJQUNkLE1BQU0sTUFBTSxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsRUFBQyxHQUFHLEVBQUUsRUFBQyxJQUFJLEVBQUUsTUFBTSxFQUFDLEVBQUMsQ0FBQyxDQUFDO0lBRXJELE1BQU0sQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLFdBQVcsSUFBSTtRQUMxQixJQUFJLENBQUMsSUFBSSxHQUFHLE1BQU0sTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3ZDLENBQUMsQ0FBQyxDQUFDO0lBRUYsR0FBRztTQUNFLEdBQUcsQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLENBQUM7U0FDMUIsR0FBRyxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQztTQUNwQixHQUFHLENBQUMsTUFBTSxDQUFDLGNBQWMsRUFBRSxDQUFDLENBQUM7SUFFbEMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUU7UUFDYixPQUFPLENBQUMsR0FBRyxDQUFDLCtCQUErQixHQUFHLElBQUksQ0FBQyxDQUFDO0lBQ3hELENBQUMsQ0FBQyxDQUFDO0FBQ1AsQ0FBQyxDQUFDO0FBRUYsU0FBUyxFQUFFLENBQUMiLCJmaWxlIjoic2VydmVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qga29hID0gcmVxdWlyZSgna29hJyk7XG5jb25zdCByb3V0ZXIgPSByZXF1aXJlKCdrb2Etcm91dGVyJykoKTtcbmNvbnN0IHNlcnZlU3RhdGljID0gcmVxdWlyZSgna29hLXN0YXRpYycpO1xuY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcbmNvbnN0IHBvcnQ6IG51bWJlciA9IHByb2Nlc3MuZW52LlBPUlQgfHwgMzAwMDtcbmNvbnN0IGFwcCA9IGtvYSgpO1xuY29uc3QgZnMgPSByZXF1aXJlKCdmcycpO1xuXG5cbmNvbnN0IHZpZXdzID0gcmVxdWlyZShcImNvLXZpZXdcIik7XG5cbmNvbnN0IHJ1blNlcnZlciA9ICgpID0+IHtcbiAgICBjb25zdCByZW5kZXIgPSB2aWV3cyhcImRpc3RcIiwge21hcDoge2h0bWw6ICdzd2lnJ319KTtcblxuICAgcm91dGVyLmdldCgnLycsIGZ1bmN0aW9uICoobmV4dCkge1xuICAgICAgICB0aGlzLmJvZHkgPSB5aWVsZCByZW5kZXIoXCJpbmRleFwiKTtcbiAgIH0pO1xuXG4gICAgYXBwXG4gICAgICAgIC51c2Uoc2VydmVTdGF0aWMoJy4vZGlzdCcpKVxuICAgICAgICAudXNlKHJvdXRlci5yb3V0ZXMoKSlcbiAgICAgICAgLnVzZShyb3V0ZXIuYWxsb3dlZE1ldGhvZHMoKSk7XG5cbiAgICBhcHAubGlzdGVuKHBvcnQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1dlYiBhcHAgaXMgbGlzdGVuaW5nIG9uIHBvcnQ6JyArIHBvcnQpO1xuICAgIH0pO1xufTtcblxucnVuU2VydmVyKCk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
